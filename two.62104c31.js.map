{"version":3,"sources":["two.js"],"names":["BLOB_COLOR","DECAY","VELOCITY","Ball","x","y","angle","Math","PI","random","vx","cos","vy","r","randBetween","low","high","GOOP_Y_OFFSET","GoopLine","thickness","droop","ly","ry","width","lp","rp","percentage","mp","max","t","ctx","beginPath","moveTo","arcTo","lineTo","fill","stroke","canvas","document","getElementById","getContext","window","innerWidth","height","innerHeight","origin","mouse","balls","count","randomCount","goopLines","GOOP_LINE_COUNT","floor","i","push","ballMakerSpeed","BALL_MAKER_EDGE","loop","clearRect","halfPercentage","forEach","goopLine","update","fillRect","length","b","fillStyle","br","arc","maybeRemoveBall","requestAnimationFrame","splice","onresize","addEventListener","e","clientX","clientY"],"mappings":"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","file":"two.62104c31.js","sourceRoot":"../src","sourcesContent":["const BLOB_COLOR = '#000'\nconst DECAY = 0.005\nconst VELOCITY = 1 // >= 1\n\nclass Ball {\n  constructor(x, y) {\n    this.x = x\n    this.y = y\n    this.angle = Math.PI * 2 * Math.random()\n    this.vx = (VELOCITY + Math.random() * (1 - VELOCITY)) * Math.cos(this.angle)\n    this.vy = VELOCITY + Math.random() * (1 - VELOCITY)\n    this.r = 12 + 3 * Math.random()\n  }\n\n  update() {\n    this.x += this.vx\n    this.y += this.vy\n    this.r -= DECAY\n  }\n}\n\nconst randBetween = (low, high) => {\n  return Math.random() * (high - low) + low\n}\n\nconst GOOP_Y_OFFSET = 50\n\nclass GoopLine {\n  constructor(y, thickness, droop) {\n    this.ly = y + GOOP_Y_OFFSET * Math.random() - GOOP_Y_OFFSET\n    this.ry = y + GOOP_Y_OFFSET * Math.random() - GOOP_Y_OFFSET\n\n    this.thickness = thickness\n    this.droop = droop\n    this.r = width\n  }\n\n  update(lp, rp, percentage) {\n    const mp = {\n      x: (lp.x + rp.x) / 2,\n      y: Math.max(\n        (this.ly + this.ry) / 2,\n        (this.ly + this.ry) / 2 + (1 - percentage) * this.droop - GOOP_Y_OFFSET\n      ),\n    }\n    const t = this.thickness\n    ctx.beginPath()\n    ctx.moveTo(lp.x, this.ly)\n    ctx.arcTo(mp.x, mp.y, rp.x, this.ry, this.r * (1 - percentage))\n    ctx.lineTo(rp.x, this.ry) // Finishes the line\n    ctx.lineTo(rp.x, this.ry + t)\n\n    ctx.arcTo(\n      mp.x,\n      mp.y + t,\n      lp.x,\n      this.ly + t,\n      this.r * 1.25 * (1 - percentage)\n    )\n\n    ctx.lineTo(lp.x, this.ly + t)\n    ctx.fill()\n    ctx.stroke()\n  }\n}\n\nconst canvas = document.getElementById('canvas')\nconst ctx = canvas.getContext('2d')\n\n// State\nlet width = (canvas.width = window.innerWidth)\nlet height = (canvas.height = window.innerHeight)\nlet origin = { x: width / 2, y: height / 2 }\nlet mouse = { x: width / 2, y: height / 2 }\nlet balls = []\nlet count = 0\nlet randomCount = 1\n\nlet goopLines = []\nconst GOOP_LINE_COUNT = Math.floor(height / 150)\n\nfor (let i = 0; i < GOOP_LINE_COUNT; i++) {\n  goopLines.push(\n    new GoopLine(\n      i * (height / GOOP_LINE_COUNT) + (50 * Math.random() - 50),\n      randBetween(30, 50),\n      randBetween(100, 300)\n    )\n  )\n}\nlet ballMakerSpeed = 10\nconst BALL_MAKER_EDGE = 50\n\nfunction loop() {\n  ctx.clearRect(0, 0, width, height)\n\n  const halfPercentage = (1 - mouse.y / height) / 2\n\n  goopLines.forEach((goopLine) => {\n    goopLine.update(\n      { x: width * halfPercentage },\n      { x: width * (1 - halfPercentage) },\n      halfPercentage * 2\n    )\n  })\n\n  // Side Walls\n  ctx.fillRect(0, 0, width * halfPercentage + 30, height)\n  ctx.fillRect(\n    width * (1 - halfPercentage) - 30,\n    0,\n    width * halfPercentage + 30,\n    height\n  )\n\n  // Create a new ball\n  if (count === randomCount) {\n    balls.push(new Ball(origin.x, origin.y))\n    count = 0\n    randomCount = 3 + Math.floor(Math.random() * 5)\n  }\n  count++\n\n  // Draw each ball\n  for (var i = 0; i < balls.length; i++) {\n    var b = balls[i]\n    ctx.fillStyle = BLOB_COLOR\n    ctx.beginPath()\n    var br = b.r >= 0 ? b.r : 0\n    ctx.arc(b.x, b.y, br, 0, Math.PI * 2, false)\n    ctx.fill()\n    b.update()\n  }\n\n  // Move ball 15% toward the mouse on each frame\n  // origin.x += (mouse.x - origin.x) * 0.15\n  // origin.y += (mouse.y - origin.y) * 0.15\n\n  // Move the ball maker back and forth\n  origin.y = -10\n  origin.x += ballMakerSpeed\n\n  if (origin.x > width - BALL_MAKER_EDGE) {\n    origin.x = width - BALL_MAKER_EDGE\n    ballMakerSpeed *= -1\n  } else if (origin.x < BALL_MAKER_EDGE) {\n    origin.x = BALL_MAKER_EDGE\n    ballMakerSpeed *= -1\n  }\n\n  // Draw the main mouse ball\n  ctx.fillStyle = BLOB_COLOR\n  ctx.beginPath()\n  ctx.arc(origin.x, origin.y, 15, 0, Math.PI * 2, false)\n  ctx.fill()\n\n  maybeRemoveBall()\n  requestAnimationFrame(loop)\n}\n\nfunction maybeRemoveBall() {\n  for (var i = 0; i < balls.length; i++) {\n    var b = balls[i]\n    if (\n      b.x + b.r < 0 ||\n      b.x - b.r > width ||\n      b.y + b.r < 0 ||\n      b.y - b.r > height ||\n      b.r <= 0\n    ) {\n      balls.splice(i, 1)\n    }\n  }\n}\n\nloop()\n\nwindow.onresize = () => {\n  width = canvas.width = window.innerWidth\n  height = canvas.height = window.innerHeight\n  origin = { x: width / 2, y: height / 2 }\n}\n\nwindow.addEventListener(\n  'mousemove',\n  function (e) {\n    mouse.x = e.clientX\n    mouse.y = e.clientY\n  },\n  false\n)\n"]}